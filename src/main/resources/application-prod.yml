spring:
  config:
    name: prod
#端口
server:
  port: 5000
#注册的地址
eureka:
  instance:
    lease-expiration-duration-in-seconds: 15 #服务过期时间配置
    lease-renewal-interval-in-seconds: 5 #服务刷新时间配置
    prefer-ip-address: true
  client:
    serviceUrl:
      defaultZone: http://eureka-prod.ap-southeast-1.elasticbeanstalk.com/eureka
    registry-fetch-interval-seconds: 5 #client刷新本地缓存时间
#公开了prometheus,health,info,logfile
management:
  endpoints:
    web:
      exposure:
        include: '*'
  endpoint:
    logfile:
      external-file: ${user.home}/logs/zipkin-info.log
    health:
      show-details: ALWAYS
  metrics:
    web:
      server:
        # 避免访问 zipkin 页面报 java.lang.IllegalArgumentException
        auto-time-requests: false
    tags:
      application: ${spring.application.name}
      hikaricp: ${spring.datasource.poolName}
      instance: ${spring.application.name}-${spring.cloud.client.ip-address}